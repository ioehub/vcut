(function(h,R){typeof exports=="object"&&typeof module<"u"?R(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],R):(h=typeof globalThis<"u"?globalThis:h||self,R(h.VCutEffects={},h.React))})(this,function(h,R){"use strict";var Fr=Object.defineProperty;var kr=(h,R,N)=>R in h?Fr(h,R,{enumerable:!0,configurable:!0,writable:!0,value:N}):h[R]=N;var fe=(h,R,N)=>(kr(h,typeof R!="symbol"?R+"":R,N),N);var N={exports:{}},$={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de;function We(){if(de)return $;de=1;var t=R,a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function g(x,o,p){var _,I={},y=null,S=null;p!==void 0&&(y=""+p),o.key!==void 0&&(y=""+o.key),o.ref!==void 0&&(S=o.ref);for(_ in o)c.call(o,_)&&!T.hasOwnProperty(_)&&(I[_]=o[_]);if(x&&x.defaultProps)for(_ in o=x.defaultProps,o)I[_]===void 0&&(I[_]=o[_]);return{$$typeof:a,type:x,key:y,ref:S,props:I,_owner:d.current}}return $.Fragment=i,$.jsx=g,$.jsxs=g,$}var J={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe;function Ye(){return pe||(pe=1,process.env.NODE_ENV!=="production"&&function(){var t=R,a=Symbol.for("react.element"),i=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),x=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),P=Symbol.iterator,L="@@iterator";function re(e){if(e===null||typeof e!="object")return null;var r=P&&e[P]||e[L];return typeof r=="function"?r:null}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function O(e){{for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];Qe("error",e,n)}}function Qe(e,r,n){{var s=A.ReactDebugCurrentFrame,v=s.getStackAddendum();v!==""&&(r+="%s",n=n.concat([v]));var E=n.map(function(f){return String(f)});E.unshift("Warning: "+r),Function.prototype.apply.call(console[e],console,E)}}var er=!1,rr=!1,tr=!1,nr=!1,ar=!1,me;me=Symbol.for("react.module.reference");function ir(e){return!!(typeof e=="string"||typeof e=="function"||e===c||e===T||ar||e===d||e===p||e===_||nr||e===S||er||rr||tr||typeof e=="object"&&e!==null&&(e.$$typeof===y||e.$$typeof===I||e.$$typeof===g||e.$$typeof===x||e.$$typeof===o||e.$$typeof===me||e.getModuleId!==void 0))}function sr(e,r,n){var s=e.displayName;if(s)return s;var v=r.displayName||r.name||"";return v!==""?n+"("+v+")":n}function he(e){return e.displayName||"Context"}function k(e){if(e==null)return null;if(typeof e.tag=="number"&&O("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case c:return"Fragment";case i:return"Portal";case T:return"Profiler";case d:return"StrictMode";case p:return"Suspense";case _:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:var r=e;return he(r)+".Consumer";case g:var n=e;return he(n._context)+".Provider";case o:return sr(e,e.render,"ForwardRef");case I:var s=e.displayName||null;return s!==null?s:k(e.type)||"Memo";case y:{var v=e,E=v._payload,f=v._init;try{return k(f(E))}catch{return null}}}return null}var B=Object.assign,z=0,ge,be,xe,Re,Te,_e,Ce;function Oe(){}Oe.__reactDisabledLog=!0;function or(){{if(z===0){ge=console.log,be=console.info,xe=console.warn,Re=console.error,Te=console.group,_e=console.groupCollapsed,Ce=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Oe,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}z++}}function lr(){{if(z--,z===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:B({},e,{value:ge}),info:B({},e,{value:be}),warn:B({},e,{value:xe}),error:B({},e,{value:Re}),group:B({},e,{value:Te}),groupCollapsed:B({},e,{value:_e}),groupEnd:B({},e,{value:Ce})})}z<0&&O("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var te=A.ReactCurrentDispatcher,ne;function X(e,r,n){{if(ne===void 0)try{throw Error()}catch(v){var s=v.stack.trim().match(/\n( *(at )?)/);ne=s&&s[1]||""}return`
`+ne+e}}var ae=!1,q;{var cr=typeof WeakMap=="function"?WeakMap:Map;q=new cr}function Se(e,r){if(!e||ae)return"";{var n=q.get(e);if(n!==void 0)return n}var s;ae=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var E;E=te.current,te.current=null,or();try{if(r){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(w){s=w}Reflect.construct(e,[],f)}else{try{f.call()}catch(w){s=w}e.call(f.prototype)}}else{try{throw Error()}catch(w){s=w}e()}}catch(w){if(w&&s&&typeof w.stack=="string"){for(var u=w.stack.split(`
`),j=s.stack.split(`
`),m=u.length-1,b=j.length-1;m>=1&&b>=0&&u[m]!==j[b];)b--;for(;m>=1&&b>=0;m--,b--)if(u[m]!==j[b]){if(m!==1||b!==1)do if(m--,b--,b<0||u[m]!==j[b]){var D=`
`+u[m].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),typeof e=="function"&&q.set(e,D),D}while(m>=1&&b>=0);break}}}finally{ae=!1,te.current=E,lr(),Error.prepareStackTrace=v}var M=e?e.displayName||e.name:"",W=M?X(M):"";return typeof e=="function"&&q.set(e,W),W}function ur(e,r,n){return Se(e,!1)}function fr(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function Z(e,r,n){if(e==null)return"";if(typeof e=="function")return Se(e,fr(e));if(typeof e=="string")return X(e);switch(e){case p:return X("Suspense");case _:return X("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case o:return ur(e.render);case I:return Z(e.type,r,n);case y:{var s=e,v=s._payload,E=s._init;try{return Z(E(v),r,n)}catch{}}}return""}var G=Object.prototype.hasOwnProperty,je={},we=A.ReactDebugCurrentFrame;function Q(e){if(e){var r=e._owner,n=Z(e.type,e._source,r?r.type:null);we.setExtraStackFrame(n)}else we.setExtraStackFrame(null)}function dr(e,r,n,s,v){{var E=Function.call.bind(G);for(var f in e)if(E(e,f)){var u=void 0;try{if(typeof e[f]!="function"){var j=Error((s||"React class")+": "+n+" type `"+f+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[f]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw j.name="Invariant Violation",j}u=e[f](r,f,s,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(m){u=m}u&&!(u instanceof Error)&&(Q(v),O("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,f,typeof u),Q(null)),u instanceof Error&&!(u.message in je)&&(je[u.message]=!0,Q(v),O("Failed %s type: %s",n,u.message),Q(null))}}}var pr=Array.isArray;function ie(e){return pr(e)}function vr(e){{var r=typeof Symbol=="function"&&Symbol.toStringTag,n=r&&e[Symbol.toStringTag]||e.constructor.name||"Object";return n}}function yr(e){try{return Ie(e),!1}catch{return!0}}function Ie(e){return""+e}function Pe(e){if(yr(e))return O("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",vr(e)),Ie(e)}var K=A.ReactCurrentOwner,Er={key:!0,ref:!0,__self:!0,__source:!0},Ae,De,se;se={};function mr(e){if(G.call(e,"ref")){var r=Object.getOwnPropertyDescriptor(e,"ref").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function hr(e){if(G.call(e,"key")){var r=Object.getOwnPropertyDescriptor(e,"key").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function gr(e,r){if(typeof e.ref=="string"&&K.current&&r&&K.current.stateNode!==r){var n=k(K.current.type);se[n]||(O('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',k(K.current.type),e.ref),se[n]=!0)}}function br(e,r){{var n=function(){Ae||(Ae=!0,O("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",r))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}}function xr(e,r){{var n=function(){De||(De=!0,O("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",r))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}}var Rr=function(e,r,n,s,v,E,f){var u={$$typeof:a,type:e,key:r,ref:n,props:f,_owner:E};return u._store={},Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:v}),Object.freeze&&(Object.freeze(u.props),Object.freeze(u)),u};function Tr(e,r,n,s,v){{var E,f={},u=null,j=null;n!==void 0&&(Pe(n),u=""+n),hr(r)&&(Pe(r.key),u=""+r.key),mr(r)&&(j=r.ref,gr(r,v));for(E in r)G.call(r,E)&&!Er.hasOwnProperty(E)&&(f[E]=r[E]);if(e&&e.defaultProps){var m=e.defaultProps;for(E in m)f[E]===void 0&&(f[E]=m[E])}if(u||j){var b=typeof e=="function"?e.displayName||e.name||"Unknown":e;u&&br(f,b),j&&xr(f,b)}return Rr(e,u,j,v,s,K.current,f)}}var oe=A.ReactCurrentOwner,Fe=A.ReactDebugCurrentFrame;function Y(e){if(e){var r=e._owner,n=Z(e.type,e._source,r?r.type:null);Fe.setExtraStackFrame(n)}else Fe.setExtraStackFrame(null)}var le;le=!1;function ce(e){return typeof e=="object"&&e!==null&&e.$$typeof===a}function ke(){{if(oe.current){var e=k(oe.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function _r(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\/]/,""),n=e.lineNumber;return`

Check your code at `+r+":"+n+"."}return""}}var Ne={};function Cr(e){{var r=ke();if(!r){var n=typeof e=="string"?e:e.displayName||e.name;n&&(r=`

Check the top-level render call using <`+n+">.")}return r}}function Ve(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var n=Cr(r);if(Ne[n])return;Ne[n]=!0;var s="";e&&e._owner&&e._owner!==oe.current&&(s=" It was passed a child from "+k(e._owner.type)+"."),Y(e),O('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,s),Y(null)}}function Le(e,r){{if(typeof e!="object")return;if(ie(e))for(var n=0;n<e.length;n++){var s=e[n];ce(s)&&Ve(s,r)}else if(ce(e))e._store&&(e._store.validated=!0);else if(e){var v=re(e);if(typeof v=="function"&&v!==e.entries)for(var E=v.call(e),f;!(f=E.next()).done;)ce(f.value)&&Ve(f.value,r)}}}function Or(e){{var r=e.type;if(r==null||typeof r=="string")return;var n;if(typeof r=="function")n=r.propTypes;else if(typeof r=="object"&&(r.$$typeof===o||r.$$typeof===I))n=r.propTypes;else return;if(n){var s=k(r);dr(n,e.props,"prop",s,e)}else if(r.PropTypes!==void 0&&!le){le=!0;var v=k(r);O("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",v||"Unknown")}typeof r.getDefaultProps=="function"&&!r.getDefaultProps.isReactClassApproved&&O("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Sr(e){{for(var r=Object.keys(e.props),n=0;n<r.length;n++){var s=r[n];if(s!=="children"&&s!=="key"){Y(e),O("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",s),Y(null);break}}e.ref!==null&&(Y(e),O("Invalid attribute `ref` supplied to `React.Fragment`."),Y(null))}}var Ue={};function Be(e,r,n,s,v,E){{var f=ir(e);if(!f){var u="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(u+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var j=_r(v);j?u+=j:u+=ke();var m;e===null?m="null":ie(e)?m="array":e!==void 0&&e.$$typeof===a?(m="<"+(k(e.type)||"Unknown")+" />",u=" Did you accidentally export a JSX literal instead of a component?"):m=typeof e,O("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",m,u)}var b=Tr(e,r,n,v,E);if(b==null)return b;if(f){var D=r.children;if(D!==void 0)if(s)if(ie(D)){for(var M=0;M<D.length;M++)Le(D[M],e);Object.freeze&&Object.freeze(D)}else O("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Le(D,e)}if(G.call(r,"key")){var W=k(e),w=Object.keys(r).filter(function(Dr){return Dr!=="key"}),ue=w.length>0?"{key: someKey, "+w.join(": ..., ")+": ...}":"{key: someKey}";if(!Ue[W+ue]){var Ar=w.length>0?"{"+w.join(": ..., ")+": ...}":"{}";O(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ue,W,Ar,W),Ue[W+ue]=!0}}return e===c?Sr(b):Or(b),b}}function jr(e,r,n){return Be(e,r,n,!0)}function wr(e,r,n){return Be(e,r,n,!1)}var Ir=wr,Pr=jr;J.Fragment=c,J.jsx=Ir,J.jsxs=Pr}()),J}process.env.NODE_ENV==="production"?N.exports=We():N.exports=Ye();var l=N.exports;let H;const Me=new Uint8Array(16);function $e(){if(!H&&(H=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!H))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H(Me)}const C=[];for(let t=0;t<256;++t)C.push((t+256).toString(16).slice(1));function Je(t,a=0){return C[t[a+0]]+C[t[a+1]]+C[t[a+2]]+C[t[a+3]]+"-"+C[t[a+4]]+C[t[a+5]]+"-"+C[t[a+6]]+C[t[a+7]]+"-"+C[t[a+8]]+C[t[a+9]]+"-"+C[t[a+10]]+C[t[a+11]]+C[t[a+12]]+C[t[a+13]]+C[t[a+14]]+C[t[a+15]]}const ve={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ze(t,a,i){if(ve.randomUUID&&!a&&!t)return ve.randomUUID();t=t||{};const c=t.random||(t.rng||$e)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,a){i=i||0;for(let d=0;d<16;++d)a[i+d]=c[d];return a}return Je(c)}var F=(t=>(t.VIDEO="video",t.AUDIO="audio",t.TRANSITION="transition",t.TEXT="text",t.COLOR="color",t))(F||{}),U=(t=>(t.FILTER="filter",t.DISTORTION="distortion",t.ANIMATION="animation",t.BLUR="blur",t.SHARPEN="sharpen",t.LIGHTING="lighting",t.AUDIO_FILTER="audioFilter",t.TRANSITION="transition",t.COLOR_CORRECTION="colorCorrection",t))(U||{});class Ge{constructor(){fe(this,"effects",[]);fe(this,"appliedEffects",[]);this.initializeDefaultEffects()}getAvailableEffects(){return[...this.effects]}getEffectsByType(a){return this.effects.filter(i=>i.type===a)}getEffectsByCategory(a){return this.effects.filter(i=>i.category===a)}getEffectsByClipId(a){return this.appliedEffects.filter(i=>i.clipId===a)}getEffectById(a){return this.effects.find(i=>i.id===a)}getAppliedEffectById(a){return this.appliedEffects.find(i=>i.id===a)}applyEffectToClip(a,i,c,d,T){const g=this.getEffectById(a);if(!g)return console.error(`효과 ID ${a}를 찾을 수 없습니다.`),null;const x={...JSON.parse(JSON.stringify(g)),id:ze(),clipId:i,trackId:c,startTime:d,duration:T,isEnabled:!0};return this.appliedEffects.push(x),x}updateAppliedEffect(a,i){const c=this.appliedEffects.findIndex(d=>d.id===a);return c===-1?(console.error(`적용된 효과 ID ${a}를 찾을 수 없습니다.`),null):(this.appliedEffects[c]={...this.appliedEffects[c],...i},this.appliedEffects[c])}updateEffectParameter(a,i,c){const d=this.getAppliedEffectById(a);if(!d)return console.error(`적용된 효과 ID ${a}를 찾을 수 없습니다.`),null;const T=d.parameters.findIndex(x=>x.id===i);if(T===-1)return console.error(`파라미터 ID ${i}를 찾을 수 없습니다.`),null;const g={...d};return g.parameters[T]={...g.parameters[T],currentValue:c},this.updateAppliedEffect(a,g)}removeAppliedEffect(a){const i=this.appliedEffects.findIndex(c=>c.id===a);return i===-1?(console.error(`적용된 효과 ID ${a}를 찾을 수 없습니다.`),!1):(this.appliedEffects.splice(i,1),!0)}initializeDefaultEffects(){this.effects.push({id:"effect-bw-filter",name:"흑백 필터",type:F.VIDEO,category:U.FILTER,description:"영상을 흑백으로 변환합니다.",thumbnail:"assets/effects/bw-filter.png",parameters:[{id:"intensity",name:"강도",type:"number",defaultValue:1,currentValue:1,min:0,max:1,step:.01}],isEnabled:!0}),this.effects.push({id:"effect-gaussian-blur",name:"가우시안 블러",type:F.VIDEO,category:U.BLUR,description:"가우시안 블러 효과를 적용합니다.",thumbnail:"assets/effects/blur.png",parameters:[{id:"radius",name:"반경",type:"number",defaultValue:5,currentValue:5,min:0,max:50,step:1}],isEnabled:!0}),this.effects.push({id:"effect-color-correction",name:"색상 보정",type:F.VIDEO,category:U.COLOR_CORRECTION,description:"색상, 명도, 대비 등을 조정합니다.",thumbnail:"assets/effects/color-correction.png",parameters:[{id:"brightness",name:"밝기",type:"number",defaultValue:0,currentValue:0,min:-100,max:100,step:1},{id:"contrast",name:"대비",type:"number",defaultValue:0,currentValue:0,min:-100,max:100,step:1},{id:"saturation",name:"채도",type:"number",defaultValue:0,currentValue:0,min:-100,max:100,step:1},{id:"temperature",name:"색온도",type:"number",defaultValue:0,currentValue:0,min:-100,max:100,step:1}],isEnabled:!0}),this.effects.push({id:"effect-audio-fade",name:"페이드",type:F.AUDIO,category:U.AUDIO_FILTER,description:"오디오 페이드 인/아웃 효과를 적용합니다.",thumbnail:"assets/effects/audio-fade.png",parameters:[{id:"fadeInDuration",name:"페이드 인 (초)",type:"number",defaultValue:1,currentValue:1,min:0,max:10,step:.1},{id:"fadeOutDuration",name:"페이드 아웃 (초)",type:"number",defaultValue:1,currentValue:1,min:0,max:10,step:.1}],isEnabled:!0}),this.effects.push({id:"effect-transition-fade",name:"페이드 트랜지션",type:F.TRANSITION,category:U.TRANSITION,description:"두 클립 사이에 페이드 트랜지션을 적용합니다.",thumbnail:"assets/effects/transition-fade.png",parameters:[{id:"duration",name:"지속시간 (초)",type:"number",defaultValue:1,currentValue:1,min:.1,max:5,step:.1}],isEnabled:!0})}}const V=new Ge,Ke={availableEffects:[],appliedEffects:[],selectedEffectId:null,isLoading:!1,error:null};function He(t,a){switch(a.type){case"LOAD_EFFECTS":return{...t,availableEffects:a.payload,isLoading:!1};case"APPLY_EFFECT":return{...t,appliedEffects:[...t.appliedEffects,a.payload]};case"UPDATE_EFFECT":return{...t,appliedEffects:t.appliedEffects.map(i=>i.id===a.payload.id?{...i,...a.payload.updates}:i)};case"REMOVE_EFFECT":return{...t,appliedEffects:t.appliedEffects.filter(i=>i.id!==a.payload),selectedEffectId:t.selectedEffectId===a.payload?null:t.selectedEffectId};case"SELECT_EFFECT":return{...t,selectedEffectId:a.payload};case"SET_LOADING":return{...t,isLoading:a.payload};case"SET_ERROR":return{...t,error:a.payload,isLoading:!1};default:return t}}const ye=R.createContext(void 0),Xe=({children:t})=>{const[a,i]=R.useReducer(He,Ke),c=async()=>{try{i({type:"SET_LOADING",payload:!0});const y=V.getAvailableEffects();i({type:"LOAD_EFFECTS",payload:y})}catch(y){console.error("효과 불러오기 실패:",y),i({type:"SET_ERROR",payload:"효과를 불러오는 중 오류가 발생했습니다."})}},d=async(y,S,P,L,re)=>{try{const A=V.applyEffectToClip(y,S,P,L,re);return A&&i({type:"APPLY_EFFECT",payload:A}),A}catch(A){return console.error("효과 적용 실패:",A),i({type:"SET_ERROR",payload:"효과를 적용하는 중 오류가 발생했습니다."}),null}},T=async(y,S)=>{try{const P=V.updateAppliedEffect(y,S);return P&&i({type:"UPDATE_EFFECT",payload:{id:y,updates:P}}),P}catch(P){return console.error("효과 업데이트 실패:",P),i({type:"SET_ERROR",payload:"효과를 업데이트하는 중 오류가 발생했습니다."}),null}},g=async(y,S,P)=>{try{const L=V.updateEffectParameter(y,S,P);return L&&i({type:"UPDATE_EFFECT",payload:{id:y,updates:L}}),L}catch(L){return console.error("효과 파라미터 업데이트 실패:",L),i({type:"SET_ERROR",payload:"효과 파라미터를 업데이트하는 중 오류가 발생했습니다."}),null}},x=async y=>{try{const S=V.removeAppliedEffect(y);return S&&i({type:"REMOVE_EFFECT",payload:y}),S}catch(S){return console.error("효과 제거 실패:",S),i({type:"SET_ERROR",payload:"효과를 제거하는 중 오류가 발생했습니다."}),!1}},o=y=>{i({type:"SELECT_EFFECT",payload:y})},p=y=>V.getEffectsByType(y),_=y=>V.getEffectsByCategory(y),I=y=>V.getEffectsByClipId(y);return l.jsx(ye.Provider,{value:{state:a,loadEffects:c,applyEffect:d,updateEffect:T,updateEffectParameter:g,removeEffect:x,selectEffect:o,getEffectsByType:p,getEffectsByCategory:_,getEffectsByClip:I},children:t})},ee=()=>{const t=R.useContext(ye);if(t===void 0)throw new Error("useEffects는 EffectsProvider 내부에서만 사용할 수 있습니다.");return t},qe=({type:t,category:a,onSelectEffect:i})=>{const{state:c,loadEffects:d,getEffectsByType:T,getEffectsByCategory:g}=ee();R.useEffect(()=>{d()},[d]);const o=(()=>t&&a?c.availableEffects.filter(p=>p.type===t&&p.category===a):t?T(t):a?g(a):c.availableEffects)();return l.jsxs("div",{className:"effects-list",style:{padding:"16px",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"16px"},children:"사용 가능한 효과"}),c.isLoading?l.jsx("p",{style:{textAlign:"center",padding:"20px"},children:"로딩 중..."}):l.jsx("div",{className:"effects-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px"},children:o.length===0?l.jsx("p",{style:{textAlign:"center",padding:"20px"},children:"사용 가능한 효과가 없습니다."}):o.map(p=>l.jsxs("div",{className:"effect-item",onClick:()=>i(p.id),style:{backgroundColor:"white",padding:"8px",borderRadius:"4px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.2s"},children:[p.thumbnail&&l.jsx("div",{className:"effect-thumbnail",style:{width:"100%",height:"70px",marginBottom:"8px",overflow:"hidden",borderRadius:"3px",backgroundColor:"#f0f0f0"},children:l.jsx("div",{className:"effect-thumbnail-placeholder",style:{width:"100%",height:"100%",backgroundColor:p.type===F.VIDEO?"#1890ff":p.type===F.AUDIO?"#52c41a":p.type===F.TRANSITION?"#faad14":"#d9d9d9"}})}),l.jsxs("div",{className:"effect-info",style:{textAlign:"center"},children:[l.jsx("div",{className:"effect-name",style:{fontWeight:"500",fontSize:"0.9em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p.name}),l.jsx("div",{className:"effect-type",style:{fontSize:"0.8em",color:"#888",marginTop:"2px"},children:p.category})]})]},p.id))}),c.error&&l.jsx("div",{className:"error-message",style:{color:"#ff4d4f",padding:"12px",backgroundColor:"#fff1f0",border:"1px solid #ffccc7",borderRadius:"4px",marginTop:"16px"},children:c.error})]})},Ee=({parameter:t,onChange:a})=>{const i=o=>{a(t.id,o)},c=()=>l.jsxs("div",{className:"parameter-control",style:{flex:1,display:"flex",alignItems:"center"},children:[l.jsx("input",{type:"range",min:t.min||0,max:t.max||100,step:t.step||1,value:t.currentValue,onChange:o=>i(parseFloat(o.target.value)),style:{flex:1,marginRight:"8px"}}),l.jsx("div",{className:"parameter-value",style:{width:"60px"},children:l.jsx("input",{type:"number",min:t.min||0,max:t.max||100,step:t.step||1,value:t.currentValue,onChange:o=>i(parseFloat(o.target.value)),style:{width:"100%",textAlign:"right",padding:"4px",border:"1px solid #d9d9d9",borderRadius:"2px"}})})]}),d=()=>l.jsx("div",{className:"parameter-control",style:{flex:1,display:"flex",alignItems:"center"},children:l.jsx("input",{type:"checkbox",checked:t.currentValue,onChange:o=>i(o.target.checked)})}),T=()=>{const o=Array.isArray(t.options)?t.options:[];return l.jsx("div",{className:"parameter-control",style:{flex:1,display:"flex",alignItems:"center"},children:l.jsx("select",{value:t.currentValue,onChange:p=>i(p.target.value),style:{width:"100%",padding:"4px",border:"1px solid #d9d9d9",borderRadius:"2px"},children:o.map(p=>{const _=typeof p=="object"?p.value:p,I=typeof p=="object"?p.label:p;return l.jsx("option",{value:_,children:I},_)})})})},g=()=>l.jsxs("div",{className:"parameter-control",style:{flex:1,display:"flex",alignItems:"center"},children:[l.jsx("input",{type:"color",value:t.currentValue,onChange:o=>i(o.target.value),style:{width:"32px",height:"24px",border:"none",marginRight:"8px"}}),l.jsx("div",{className:"parameter-value",style:{width:"60px"},children:l.jsx("input",{type:"text",value:t.currentValue,onChange:o=>i(o.target.value),style:{width:"100%",textAlign:"right",padding:"4px",border:"1px solid #d9d9d9",borderRadius:"2px"}})})]}),x=()=>{switch(t.type){case"number":return c();case"boolean":return d();case"select":return T();case"color":return g();default:return l.jsxs("div",{children:["지원되지 않는 파라미터 타입: ",t.type]})}};return l.jsxs("div",{className:"parameter-editor",style:{marginBottom:"12px",display:"flex",alignItems:"center"},children:[l.jsx("div",{className:"parameter-name",style:{width:"100px",fontSize:"14px",marginRight:"12px"},children:t.name}),x()]})},Ze=({effectId:t})=>{const{state:a,updateEffectParameter:i,removeEffect:c}=ee(),d=a.appliedEffects.find(o=>o.id===t);if(!d)return l.jsx("div",{className:"effect-editor-error",style:{padding:"16px",color:"#ff4d4f",backgroundColor:"#fff1f0",border:"1px solid #ffccc7",borderRadius:"4px"},children:"선택된 효과를 찾을 수 없습니다."});const T=async(o,p)=>{await i(t,o,p)},g=async()=>{await c(t)},x=async()=>{const o=!d.isEnabled;await i(t,"isEnabled",o)};return l.jsxs("div",{className:"effect-editor",style:{padding:"16px",backgroundColor:"#f5f5f5",borderRadius:"4px",marginBottom:"16px"},children:[l.jsxs("div",{className:"effect-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsx("h3",{style:{margin:0},children:d.name}),l.jsxs("div",{className:"effect-actions",children:[l.jsx("button",{className:`toggle-button ${d.isEnabled?"enabled":"disabled"}`,onClick:x,style:{padding:"4px 8px",border:"none",borderRadius:"4px",cursor:"pointer"},children:d.isEnabled?"활성화됨":"비활성화됨"}),l.jsx("button",{className:"remove-button",onClick:g,style:{backgroundColor:"#ff4d4f",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer"},children:"제거"})]})]}),l.jsx("div",{className:"effect-parameters",style:{backgroundColor:"white",padding:"12px",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},children:d.parameters.map(o=>l.jsx(Ee,{parameter:o,onChange:T},o.id))})]})};h.EffectCategory=U,h.EffectEditor=Ze,h.EffectParameterEditor=Ee,h.EffectType=F,h.EffectsList=qe,h.EffectsProvider=Xe,h.EffectsService=V,h.useEffects=ee,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
